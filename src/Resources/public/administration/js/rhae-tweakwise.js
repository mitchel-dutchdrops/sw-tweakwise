!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/administration/",n(n.s="04lo")}({"/++W":function(e,t){e.exports='<sw-page class="rhae-tweakwise-feed-list">\n    <template slot="smart-bar-header">\n        <h2>\n            {{ $tc(\'rhae-tweakwise-feed.main.menuLabel\') }}\n        </h2>\n    </template>\n\n    <template slot="smart-bar-actions">\n        <sw-button variant="primary" :routerLink="{ name: \'rhae.tweakwise.feed.create\' }">\n            {{ $tc(\'rhae-tweakwise-feed.list.addButtonText\') }}\n        </sw-button>\n    </template>\n\n    <sw-sidebar slot="sidebar">\n        <sw-sidebar-item\n            icon="default-arrow-360-left"\n            :title="$t(\'rhae-tweakwise-feed.list.refreshButtonText\')"\n            @click="getList"\n        />\n    </sw-sidebar>\n\n    <template slot="content">\n        <sw-entity-listing\n            v-if="items"\n            :items="items"\n            :repository="repository"\n            :showSelection="true"\n            :columns="columns"\n            detailRoute="rhae.tweakwise.feed.detail"\n            @select-item="updateSelection"\n            @update-records="updateTotal">\n            <template #more-actions="{ item }">\n                <sw-context-menu-item @click="onDuplicate(item)">\n                    {{ $tc(\'sw-product.list.buttonDuplicate\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n    </template>\n</sw-page>\n'},"04lo":function(e,t,n){"use strict";n.r(t);var a=n("8mkU"),i=n.n(a);Shopware.Component.override("sw-cms-el-config-product-listing",{template:i.a});var r=n("/++W"),o=n.n(r);function s(e,t,n,a,i,r,o){try{var s=e[r](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,i)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Shopware,p=d.Component,f=d.Mixin,m=d.Context,h=Shopware.Data.Criteria;p.register("rhae-tweakwise-feed-list",{template:o.a,inject:["repositoryFactory","numberRangeService","context"],mixins:[f.getByName("notification"),f.getByName("listing")],data:function(){return{items:null,sortBy:"name"}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_feed")},searchContext:function(){return l(l({},m.api),{},{inheritance:!0})},columns:function(){return[{property:"name",dataIndex:"name",label:this.$t("rhae-tweakwise-feed.list.columns.name"),routerLink:"rhae.tweakwise.feed.detail",inlineEdit:"string",allowResize:!0,primary:!0}]}},methods:{getList:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new h(t.page,t.limit,t.term),t.isLoading=!0,e.prev=2,e.next=5,t.repository.search(n,Shopware.Context.api);case 5:a=e.sent,t.total=a.total,t.isLoading=!1,t.items=a,t.selection={},e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){s(r,a,i,o,c,"next",e)}function c(e){s(r,a,i,o,c,"throw",e)}o(void 0)}))})()},changeLanguage:function(){this.getList()},updateSelection:function(){},updateTotal:function(e){var t=e.total;this.total=t},onDuplicate:function(e){var t=this;this.repository.clone(e.id,Shopware.Context.api,{name:"".concat(e.name," ").concat(this.$tc("sw-product.general.copy")),locked:!1}).then((function(e){t.$router.push({name:"rhae.tweakwise.feed.detail",params:{id:e.id}})}))}},created:function(){}});var w=n("qNkv"),g=n.n(w);Shopware.Component.extend("rhae-tweakwise-feed-create","rhae-tweakwise-feed-detail",{template:g.a,methods:{getItem:function(){this.item=this.repository.create(Shopware.Context.api),this.isLoading=!1},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then((function(){e.isLoading=!1,e.$router.push({name:"rhae.tweakwise.feed.detail",params:{id:e.item.id}})})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise.notification.errorTitle"),message:t})}))}}});n("OFZu");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=Shopware,C=k.Component,x=k.Mixin,O=k.Context,S=Shopware.Data,D=S.EntityCollection,j=S.Criteria;Shopware.Component.getComponentHelper().mapPropertyErrors;C.register("rhae-tweakwise-feed-detail",{template:g.a,inject:["repositoryFactory","context"],mixins:[x.getByName("notification")],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{item:null,salesChannelDomains:null,isLoading:!1,processSuccess:!1,salesChannelDomainIds:[]}},computed:{repository:function(){return this.repositoryFactory.create("s_plugin_rhae_tweakwise_feed")},salesChannelDomainRepository:function(){return this.repositoryFactory.create("sales_channel_domain")},salesChannelDomainIds:{get:function(){return this.salesChannelDomainIds||[]},set:function(e){this.salesChannelDomainIds=v(v({},this.salesChannelDomainIds),{},{salesChannelDomainIds:e})}},defaultCriteria:function(){return new j}},created:function(){this.getItem(),this.getSalesChannelDomains()},methods:{getSalesChannelDomains:function(){this.salesChannelDomains=new D(this.salesChannelDomainRepository.route,this.salesChannelDomainRepository.entityName,O.api)},getItem:function(){var e=this,t=new j;t.addAssociation("salesChannelDomains"),this.repository.get(this.$route.params.id,O.api,t).then((function(t){e.item=t}))},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.item,O.api).then((function(){e.getItem(),e.isLoading=!1,e.processSuccess=!0})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$tc("rhae-tweakwise-feed.notification.errorTitle"),message:t})}))},setSalesChannelDomains:function(e){this.salesChannelDomains=e,this.item.salesChannelDomains=e},saveFinish:function(){this.processSuccess=!1}}});var L=n("LZw9"),P=n("GQH3");Shopware.Module.register("rhae-tweakwise-feed",{type:"plugin",name:"Tweakwise Feed",title:"rhae-tweakwise-feed.main.menuLabel",description:"rhae-tweakwise-feed.main.menuDescription",color:"#01b7cd",icon:"default-symbol-content",snippets:{"nl-NL":L,"en-GB":P},routes:{list:{component:"rhae-tweakwise-feed-list",path:"list",meta:{parentPath:"sw.settings.index"}},detail:{component:"rhae-tweakwise-feed-detail",path:"detail/:id",meta:{parentPath:"rhae.tweakwise.feed.list"}},create:{component:"rhae-tweakwise-feed-create",path:"create",meta:{parentPath:"rhae.tweakwise.feed.list"}}},settingsItem:{name:"rhae-tweakwise-feed-list",to:"rhae.tweakwise.feed.list",label:"rhae-tweakwise-feed.main.menuLabel",group:"plugins",icon:"default-symbol-content"}})},"8mkU":function(e,t){e.exports="{% block sw_cms_element_product_listing_config_layout_select_options %}\n    {% parent %}\n    <option value=\"tweakwise\">\n        {{ $tc('sw-cms.elements.productBox.config.label.layoutTypeTweakwise') }}\n    </option>\n{% endblock %}\n"},GQH3:function(e){e.exports=JSON.parse('{"rhae-tweakwise-feed":{"main":{"menuLabel":"Tweakwise Feed","menuDescription":"Configure your Tweakwise feed"},"list":{"addButtonText":"Create new feed","refreshButtonText":"Refresh","columns":{"name":"Feed name"}},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","section":{"main":"General","data":"Data"},"label":{"name":"Name","salesChannelDomains":"Domains"}}}}')},LZw9:function(e){e.exports=JSON.parse('{"rhae-tweakwise-feed":{"main":{"menuLabel":"Tweakwise Feed","menuDescription":"Configureer je Tweakwise feed"},"list":{"addButtonText":"Maak nieuwe feed"}}}')},OFZu:function(e,t,n){var a=n("aVjq");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("99c86688",a,!0,{})},SZ7m:function(e,t,n){"use strict";function a(e,t){for(var n=[],a={},i=0;i<t.length;i++){var r=t[i],o=r[0],s={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};a[o]?a[o].parts.push(s):n.push(a[o]={id:o,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return m}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},o=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,i){l=n,d=i||{};var o=a(e,t);return h(o),function(t){for(var n=[],i=0;i<o.length;i++){var s=o[i];(c=r[s.id]).refs--,n.push(c)}t?h(o=a(e,t)):o=[];for(i=0;i<n.length;i++){var c;if(0===(c=n[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete r[c.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],a=r[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(g(n.parts[i]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(g(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:o}}}}function w(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function g(e){var t,n,a=document.querySelector("style["+p+'~="'+e.id+'"]');if(a){if(l)return u;a.parentNode.removeChild(a)}if(f){var i=c++;a=s||(s=w()),t=b.bind(null,a,i,!1),n=b.bind(null,a,i,!0)}else a=w(),t=k.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var y,v=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function b(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function k(e,t){var n=t.css,a=t.media,i=t.sourceMap;if(a&&e.setAttribute("media",a),d.ssrId&&e.setAttribute(p,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},aVjq:function(e,t,n){},qNkv:function(e,t){e.exports='<sw-page class="rhae-tweakwise-feed-detail">\n    <template slot="smart-bar-actions">\n        <sw-button :routerLink="{ name: \'rhae.tweakwise.feed.list\' }">\n            {{ $t(\'rhae-tweakwise-feed.detail.cancelButtonText\') }}\n        </sw-button>\n\n        <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSave">\n            {{ $t(\'rhae-tweakwise-feed.detail.saveButtonText\') }}\n        </sw-button-process>\n    </template>\n\n    <template slot="content">\n        <sw-card-view>\n            <sw-card v-if="item" :isLoading="isLoading" :title="$tc(\'rhae-tweakwise-feed.detail.section.main\')">\n                <sw-card-section\n                    slot="toolbar"\n                    :secondary="true"\n                >\n                    <sw-container\n                        class="rhae-tweakwise-feed__card-toolbar"\n                        columns="1fr 1fr"\n                        rows="repeat(2, 40px)"\n                    >\n                            <div>\n                                <p class="rhae-tweakwise-feed__card-toolbar-heading">\n                                    Feed URL\n                                </p>\n                                <p>feed-{{item.id}}.xml</p>\n                            </div>\n                    </sw-container>\n\n\n                </sw-card-section>\n\n                <sw-card-section divider="bottom">\n                    <sw-field :label="$t(\'rhae-tweakwise-feed.detail.label.name\')"\n                              v-model="item.name"\n                              required validation="required" ></sw-field>\n\n                </sw-card-section>\n\n                <sw-card-section>\n                    <sw-entity-multi-select\n                        :label="$t(\'rhae-tweakwise-feed.detail.label.salesChannelDomains\')"\n                        labelProperty="url"\n                        value-property="id"\n                        v-model="item.salesChannelDomains"\n                    />\n                </sw-card-section>\n            </sw-card>\n        </sw-card-view>\n    </template>\n\n</sw-page>\n'}});